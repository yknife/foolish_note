# 角色：Roles

角色是ES节点的重要属性，属于Elasticsearch的重要基础概念。

角色在分布式、可扩展的系统架构中发挥着至关重要的作用，但是在ES的应用技术中，不需要过分深入去理解不同角色的具体含义。

如果你已经对 ES 应用层面熟练掌握，请戳：进阶篇：第二章 Elastic分布式原理-角色

## 2.1 基本概念

在高可用系统架构中，节点角色发挥着至关重要的作用。如果前期没有对业务系统和技术架构做足准备，没有充分考虑后期的扩展问题，势必会为将来的性能优化留下潜在问题。

## 2.2 常见的角色

- **主节点（active master）**：一般指活跃的主节点，一个集群中只能有一个，主要作用是对集群的管理。
- **候选节点（master-eligible）**：当主节点发生故障时，参与选举，也就是主节点的替代节点。
- **数据节点（data node）**：数据节点保存包含已编入索引的文档的分片。数据节点处理数据相关操作，如 CRUD、搜索和聚合。这些操作是 I/O 密集型、内存密集型和 CPU 密集型的。监控这些资源并在它们过载时添加更多数据节点非常重要。
- **预处理节点（ingest node）**：预处理节点有点类似于logstash的消息管道，所以也叫ingest pipeline，常用于一些数据写入之前的预处理操作。

## 2.3 使用和配置方法

准确的说，应该叫节点角色，是区分不同功能节点的一项服务配置，配置方法为

```json
node.roles: [ 角色1, 角色2, xxx ]
```

**注意：**

- 如果 node.roles 为缺省配置，那么当前节点具备所有角色

## 2.4 节点角色进阶讲解

**推荐阅读**：[ES节点角色深层解读，及高可用集群架构角色设计](https://blog.csdn.net/wlei0618/article/details/127371710)